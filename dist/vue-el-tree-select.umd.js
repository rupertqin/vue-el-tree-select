var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("vue"),require("element-ui")):"function"==typeof define&&define.amd?define(["vue","element-ui"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Vue,e.elementUi)}(this,(function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e);function o(e,t,r,n,o,a,l,i){var s,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),l?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},u._ssrRegister=s):o&&(s=i?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(u.functional){u._injectStyles=s;var c=u.render;u.render=function(e,t){return s.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,s):[s]}return{exports:e,options:u}}const a={};var l=o({props:{msg:String},data:()=>({count:89})},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v(" el tree select "+e._s(e.count)+" ")])}),[],!1,(function(e){for(let t in a)this[t]=a[t]}),"42b08416",null,null).exports,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s="object"==typeof i&&i&&i.Object===Object&&i,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),d=c.Symbol,p=d,h=Object.prototype,f=h.hasOwnProperty,v=h.toString,y=p?p.toStringTag:void 0;var _=function(e){var t=f.call(e,y),r=e[y];try{e[y]=void 0;var n=!0}catch(a){}var o=v.call(e);return n&&(t?e[y]=r:delete e[y]),o},g=Object.prototype.toString;var b=_,m=function(e){return g.call(e)},P=d?d.toStringTag:void 0;var w=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":P&&P in Object(e)?b(e):m(e)};var x=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},O=w,k=x;var T,S=function(e){if(!k(e))return!1;var t=O(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},$=c["__core-js_shared__"],j=(T=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"";var C=function(e){return!!j&&j in e},V=Function.prototype.toString;var E=S,A=C,N=x,z=function(e){if(null!=e){try{return V.call(e)}catch(t){}try{return e+""}catch(t){}}return""},B=/^\[object .+?Constructor\]$/,I=Function.prototype,D=Object.prototype,K=I.toString,R=D.hasOwnProperty,F=RegExp("^"+K.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var L=function(e){return!(!N(e)||A(e))&&(E(e)?F:B).test(z(e))},U=function(e,t){return null==e?void 0:e[t]};var M=function(e,t){var r=U(e,t);return L(r)?r:void 0},q=M(Object,"create"),H=q;var X=function(){this.__data__=H?H(null):{},this.size=0};var G=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},W=q,J=Object.prototype.hasOwnProperty;var Q=function(e){var t=this.__data__;if(W){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return J.call(t,e)?t[e]:void 0},Y=q,Z=Object.prototype.hasOwnProperty;var ee=q;var te=X,re=G,ne=Q,oe=function(e){var t=this.__data__;return Y?void 0!==t[e]:Z.call(t,e)},ae=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ee&&void 0===t?"__lodash_hash_undefined__":t,this};function le(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}le.prototype.clear=te,le.prototype.delete=re,le.prototype.get=ne,le.prototype.has=oe,le.prototype.set=ae;var ie=le;var se=function(){this.__data__=[],this.size=0};var ue=function(e,t){return e===t||e!=e&&t!=t};var ce=function(e,t){for(var r=e.length;r--;)if(ue(e[r][0],t))return r;return-1},de=ce,pe=Array.prototype.splice;var he=ce;var fe=ce;var ve=ce;var ye=se,_e=function(e){var t=this.__data__,r=de(t,e);return!(r<0)&&(r==t.length-1?t.pop():pe.call(t,r,1),--this.size,!0)},ge=function(e){var t=this.__data__,r=he(t,e);return r<0?void 0:t[r][1]},be=function(e){return fe(this.__data__,e)>-1},me=function(e,t){var r=this.__data__,n=ve(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Pe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pe.prototype.clear=ye,Pe.prototype.delete=_e,Pe.prototype.get=ge,Pe.prototype.has=be,Pe.prototype.set=me;var we=Pe,xe=M(c,"Map"),Oe=ie,ke=we,Te=xe;var Se=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var $e=function(e,t){var r=e.__data__;return Se(t)?r["string"==typeof t?"string":"hash"]:r.map},je=$e;var Ce=$e;var Ve=$e;var Ee=$e;var Ae=function(){this.size=0,this.__data__={hash:new Oe,map:new(Te||ke),string:new Oe}},Ne=function(e){var t=je(this,e).delete(e);return this.size-=t?1:0,t},ze=function(e){return Ce(this,e).get(e)},Be=function(e){return Ve(this,e).has(e)},Ie=function(e,t){var r=Ee(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function De(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}De.prototype.clear=Ae,De.prototype.delete=Ne,De.prototype.get=ze,De.prototype.has=Be,De.prototype.set=Ie;var Ke=De,Re=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Fe=function(e){return this.__data__.has(e)};function Le(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ke;++t<r;)this.add(e[t])}Le.prototype.add=Le.prototype.push=Re,Le.prototype.has=Fe;var Ue=function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1},Me=function(e){return e!=e},qe=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1};var He=function(e,t,r){return t==t?qe(e,t,r):Ue(e,Me,r)};var Xe=Le,Ge=function(e,t){return!!(null==e?0:e.length)&&He(e,t,0)>-1},We=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1},Je=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},Qe=function(e){return function(t){return e(t)}},Ye=function(e,t){return e.has(t)};var Ze=function(e,t,r,n){var o=-1,a=Ge,l=!0,i=e.length,s=[],u=t.length;if(!i)return s;r&&(t=Je(t,Qe(r))),n?(a=We,l=!1):t.length>=200&&(a=Ye,l=!1,t=new Xe(t));e:for(;++o<i;){var c=e[o],d=null==r?c:r(c);if(c=n||0!==c?c:0,l&&d==d){for(var p=u;p--;)if(t[p]===d)continue e;s.push(c)}else a(t,d,n)||s.push(c)}return s};var et=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e};var tt=function(e){return null!=e&&"object"==typeof e},rt=w,nt=tt;var ot=function(e){return nt(e)&&"[object Arguments]"==rt(e)},at=tt,lt=Object.prototype,it=lt.hasOwnProperty,st=lt.propertyIsEnumerable,ut=ot(function(){return arguments}())?ot:function(e){return at(e)&&it.call(e,"callee")&&!st.call(e,"callee")},ct=Array.isArray,dt=ut,pt=ct,ht=d?d.isConcatSpreadable:void 0;var ft=et,vt=function(e){return pt(e)||dt(e)||!!(ht&&e&&e[ht])};var yt=function e(t,r,n,o,a){var l=-1,i=t.length;for(n||(n=vt),a||(a=[]);++l<i;){var s=t[l];r>0&&n(s)?r>1?e(s,r-1,n,o,a):ft(a,s):o||(a[a.length]=s)}return a};var _t=function(e){return e};var gt=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},bt=Math.max;var mt=function(e,t,r){return t=bt(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=bt(n.length-t,0),l=Array(a);++o<a;)l[o]=n[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=n[o];return i[t]=r(l),gt(e,this,i)}};var Pt=function(e){return function(){return e}},wt=M,xt=function(){try{var e=wt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ot=Pt,kt=xt,Tt=kt?function(e,t){return kt(e,"toString",{configurable:!0,enumerable:!1,value:Ot(t),writable:!0})}:_t,St=Date.now;var $t=function(e){var t=0,r=0;return function(){var n=St(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Tt),jt=_t,Ct=mt,Vt=$t;var Et=S,At=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Nt=function(e){return null!=e&&At(e.length)&&!Et(e)},zt=tt;var Bt=Ze,It=yt,Dt=function(e){return zt(e)&&Nt(e)},Kt=function(e,t){return Vt(Ct(e,t,jt),e+"")}((function(e,t){return Dt(e)?Bt(e,It(t,1,Dt,!0)):[]}));function Rt(e,t,r,n){var o,a;if((null==n?void 0:n.getNode)&&t)return null==(o=n.getNode(t))?void 0:o.data;for(const l of e){if(l[r.value]===t)return l;if(null==(a=l[r.children])?void 0:a.length){const e=Rt(l[r.children],t,r);if(e)return e}}}const Ft={value:"value",label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf"};function Lt(e,t,r,n,o=[]){var a;for(const l of n)(null==(a=l[r])?void 0:a.length)&&!l[t]&&(o.push(l[e]),o.push(...Lt(e,t,r,l[r],[])));return o}var Ut=n.default.extend({name:"er-tree-select",components:{Tree:t.Tree,Select:t.Select,Option:t.Option},model:{prop:"value",event:"change"},props:{disabled:{default:!1,type:Boolean},multiple:{default:!1,type:Boolean},remote:{default:!1,type:Boolean},filterable:{default:!1,type:Boolean},checkStrictly:{default:!1,type:Boolean},reserveKeyword:{default:!1,type:Boolean},popperAppendToBody:{default:!0,type:Boolean},isCheckOnLeaf:{default:!1,type:Boolean},keyword:{default:"",type:String},lazy:{default:!1,type:Boolean},load:{default:()=>()=>!0,type:Function},loading:{default:!1,type:Boolean},expandAll:{default:!1,type:Boolean},placeholder:{default:"请选择",type:String},treeData:{default:()=>[],type:Array},treeProps:{default:()=>Ft,type:Object},defaultExpandedKeys:{default:()=>[],type:Array},value:{default:null,type:[String,Number,Array]}},data:()=>({}),computed:{locTreeProps(){return __spreadValues(__spreadValues({},Ft),this.treeProps)},locDefaultExpandedKeys(){return this.expandAll?Lt(this.treeProps.value,this.treeProps.isLeaf,this.treeProps.children,this.treeData,[]):this.defaultExpandedKeys},valueOptions(){var e;return this.multiple?(null==(e=this.value)?void 0:e.length)?this.value.map((e=>Rt(this.treeData,e,this.locTreeProps,this.$refs.tree))):[{}]:[Rt(this.treeData,this.value,this.locTreeProps,this.$refs.tree)]}},created(){this.$watch((()=>[this.value,this.treeData]),(async([e])=>{![null,void 0].includes(e)&&this.$refs.tree&&this.setSelected(e)}),{immediate:!0})},async mounted(){await this.$nextTick(),this.$refs.tree&&this.setSelected(this.value)},methods:{onNodeClick(e,t,r){const n=e[this.locTreeProps.children],o=e[this.locTreeProps.value],a=e[this.locTreeProps.isLeaf];e[this.locTreeProps.label];const l=this.getPropValue(e,"disabled");if(((null==n?void 0:n.length)||this.lazy&&!a)&&this.isCheckOnLeaf||l||this.multiple)return r.handleExpandIconClick();o!==this.value&&this.$emit("change",o),this.$refs.select.blur()},onTreeCheck(e,t){let r=[];if(this.checkStrictly)r=t.checkedKeys;else{let e=[];for(let r of t.checkedNodes){const t=this.getPropValue(r,"children");(null==t?void 0:t.length)&&e.push(...t.map((e=>this.getPropValue(e,"value"))))}e=Array.from(new Set(e)),r=Kt(t.checkedKeys,e)}this.$emit("change",r),this.$emit("check",e,t)},onNodeExpand(...e){this.$emit("node-expand",...e)},onInput(e){this.filterable&&this.$refs.tree.filter(e),this.$emit("input",e)},onClear(){const e=this.multiple?[]:"";this.$emit("change",e),this.$emit("clear")},onRemoveTag(e){const t=this.value.findIndex((t=>t===e));t>=0&&(this.value.splice(t,1),this.value=this.value)},onVisibleChange(e){this.$emit("visible-change",e)},filterNode(e,t){var r;return!e||-1!==(null==(r=this.getPropValue(t,"label"))?void 0:r.indexOf(e))},setSelected(e){e&&(this.multiple?this.$refs.tree.setCheckedKeys(e):this.$refs.tree.setCurrentKey(e))},treeItemClass(e){const t=this.getPropValue(e,"disabled");return{"is-selected":e[this.locTreeProps.value]===this.value,"is-disabled":t,"item-text":!0}},highlight(e){return this.keyword&&e?e.replace(new RegExp(`(${this.keyword})`,"giu"),"<span class='highlight'>$1</span>"):e},getPropValue(e={},t){return"function"==typeof this.locTreeProps[t]?this.locTreeProps[t](e):e[this.locTreeProps[t]]}}});const Mt={};var qt=o(Ut,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Select",{ref:"select",attrs:{value:e.value,"popper-class":"er-tree-select",clearable:"",filterable:"",remote:e.remote,multiple:e.multiple,placeholder:e.placeholder,"remote-method":e.onInput,loading:e.loading,disabled:e.disabled,popperAppendToBody:e.popperAppendToBody,"reserve-keyword":e.reserveKeyword},on:{clear:e.onClear,"remove-tag":e.onRemoveTag,"visible-change":e.onVisibleChange}},[e._l(e.valueOptions,(function(t){return r("Option",{key:e.getPropValue(t,"value"),attrs:{value:e.getPropValue(t,"value"),label:e.getPropValue(t,"label")}})})),r("Tree",{ref:"tree",attrs:{"empty-text":"无数据",data:e.treeData,props:e.locTreeProps,"node-key":e.locTreeProps.value,"highlight-current":!0,lazy:e.lazy,load:e.load,checkStrictly:e.checkStrictly,"current-node-key":!e.multiple&&e.value&&e.value.length>0?e.value:"","expand-on-click-node":!1,"default-expanded-keys":e.locDefaultExpandedKeys,"show-checkbox":e.multiple,"filter-node-method":e.filterNode},on:{"node-click":e.onNodeClick,check:e.onTreeCheck,"node-expand":e.onNodeExpand},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return[r("div",{class:e.treeItemClass(n),domProps:{innerHTML:e._s(e.highlight(e.getPropValue(n,"label")))}})]}}])})],2)}),[],!1,(function(e){for(let t in Mt)this[t]=Mt[t]}),null,null,null).exports;qt.install=function(e){e.component(qt.name,Tree)};const Ht={};var Xt=o({components:{HelloWorld:l,TreeSelect:qt},data:()=>({value:[1,3],keyword:"",treeData:[{id:1,name:"text1",authority:!0,child:[{id:5,name:"text5"},{id:6,name:"text6",child:[{id:7,name:"text7"},{id:8,name:"text8"},{id:9,name:"text9"},{id:10,name:"text10"}]}]},{id:2,name:"text2",authority:!1},{id:3,name:"text3",authority:!0},{id:4,name:"text4"}],disabledValues:[3]}),methods:{onInput(e){this.keyword=e},onVisibleChange(e){e||(this.keyword="")}}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("TreeSelect",{staticStyle:{width:"70%"},attrs:{placeholder:"请选择内容",clearable:"",filterable:!1,multiple:!0,remote:!0,keyword:e.keyword,"tree-props":{value:"id",children:"child",label:"name",disabled:function(e,t){return!1===e.authority}},"tree-data":e.treeData,"disabled-values":e.disabledValues,"is-check-on-leaf":!1},on:{input:e.onInput,"visible-change":e.onVisibleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,(function(e){for(let t in Ht)this[t]=Ht[t]}),null,null,null).exports;new n.default({render:e=>e(Xt)}).$mount("#app")}));

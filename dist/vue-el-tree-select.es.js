var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,a=(e,a)=>{for(var l in a||(a={}))r.call(a,l)&&o(e,l,a[l]);if(t)for(var l of t(a))n.call(a,l)&&o(e,l,a[l]);return e};import l from"vue";import{Tree as i,Select as s,Option as u}from"element-ui";function c(e,t,r,n,o,a,l,i){var s,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),l?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},u._ssrRegister=s):o&&(s=i?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(u.functional){u._injectStyles=s;var c=u.render;u.render=function(e,t){return s.call(t),c(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,s):[s]}return{exports:e,options:u}}const h={};var d=c({props:{msg:String},data:()=>({count:89})},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v(" el tree select "+e._s(e.count)+" ")])}),[],!1,(function(e){for(let t in h)this[t]=h[t]}),"42b08416",null,null).exports,p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f="object"==typeof p&&p&&p.Object===Object&&p,v="object"==typeof self&&self&&self.Object===Object&&self,y=f||v||Function("return this")(),_=y.Symbol,g=_,b=Object.prototype,m=b.hasOwnProperty,x=b.toString,P=g?g.toStringTag:void 0;var w=function(e){var t=m.call(e,P),r=e[P];try{e[P]=void 0;var n=!0}catch(a){}var o=x.call(e);return n&&(t?e[P]=r:delete e[P]),o},k=Object.prototype.toString;var O=w,T=function(e){return k.call(e)},$=_?_.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":$&&$ in Object(e)?O(e):T(e)};var j=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},C=S,E=j;var V,A=function(e){if(!E(e))return!1;var t=C(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},z=y["__core-js_shared__"],B=(V=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"";var N=function(e){return!!B&&B in e},I=Function.prototype.toString;var D=A,K=N,R=j,F=function(e){if(null!=e){try{return I.call(e)}catch(t){}try{return e+""}catch(t){}}return""},L=/^\[object .+?Constructor\]$/,M=Function.prototype,U=Object.prototype,H=M.toString,X=U.hasOwnProperty,G=RegExp("^"+H.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var W=function(e){return!(!R(e)||K(e))&&(D(e)?G:L).test(F(e))},q=function(e,t){return null==e?void 0:e[t]};var J=function(e,t){var r=q(e,t);return W(r)?r:void 0},Q=J(Object,"create"),Y=Q;var Z=function(){this.__data__=Y?Y(null):{},this.size=0};var ee=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},te=Q,re=Object.prototype.hasOwnProperty;var ne=function(e){var t=this.__data__;if(te){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return re.call(t,e)?t[e]:void 0},oe=Q,ae=Object.prototype.hasOwnProperty;var le=Q;var ie=Z,se=ee,ue=ne,ce=function(e){var t=this.__data__;return oe?void 0!==t[e]:ae.call(t,e)},he=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=le&&void 0===t?"__lodash_hash_undefined__":t,this};function de(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}de.prototype.clear=ie,de.prototype.delete=se,de.prototype.get=ue,de.prototype.has=ce,de.prototype.set=he;var pe=de;var fe=function(){this.__data__=[],this.size=0};var ve=function(e,t){return e===t||e!=e&&t!=t};var ye=function(e,t){for(var r=e.length;r--;)if(ve(e[r][0],t))return r;return-1},_e=ye,ge=Array.prototype.splice;var be=ye;var me=ye;var xe=ye;var Pe=fe,we=function(e){var t=this.__data__,r=_e(t,e);return!(r<0)&&(r==t.length-1?t.pop():ge.call(t,r,1),--this.size,!0)},ke=function(e){var t=this.__data__,r=be(t,e);return r<0?void 0:t[r][1]},Oe=function(e){return me(this.__data__,e)>-1},Te=function(e,t){var r=this.__data__,n=xe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function $e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$e.prototype.clear=Pe,$e.prototype.delete=we,$e.prototype.get=ke,$e.prototype.has=Oe,$e.prototype.set=Te;var Se=$e,je=J(y,"Map"),Ce=pe,Ee=Se,Ve=je;var Ae=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ze=function(e,t){var r=e.__data__;return Ae(t)?r["string"==typeof t?"string":"hash"]:r.map},Be=ze;var Ne=ze;var Ie=ze;var De=ze;var Ke=function(){this.size=0,this.__data__={hash:new Ce,map:new(Ve||Ee),string:new Ce}},Re=function(e){var t=Be(this,e).delete(e);return this.size-=t?1:0,t},Fe=function(e){return Ne(this,e).get(e)},Le=function(e){return Ie(this,e).has(e)},Me=function(e,t){var r=De(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Ue(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ue.prototype.clear=Ke,Ue.prototype.delete=Re,Ue.prototype.get=Fe,Ue.prototype.has=Le,Ue.prototype.set=Me;var He=Ue,Xe=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ge=function(e){return this.__data__.has(e)};function We(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new He;++t<r;)this.add(e[t])}We.prototype.add=We.prototype.push=Xe,We.prototype.has=Ge;var qe=function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1},Je=function(e){return e!=e},Qe=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1};var Ye=function(e,t,r){return t==t?Qe(e,t,r):qe(e,Je,r)};var Ze=We,et=function(e,t){return!!(null==e?0:e.length)&&Ye(e,t,0)>-1},tt=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1},rt=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},nt=function(e){return function(t){return e(t)}},ot=function(e,t){return e.has(t)};var at=function(e,t,r,n){var o=-1,a=et,l=!0,i=e.length,s=[],u=t.length;if(!i)return s;r&&(t=rt(t,nt(r))),n?(a=tt,l=!1):t.length>=200&&(a=ot,l=!1,t=new Ze(t));e:for(;++o<i;){var c=e[o],h=null==r?c:r(c);if(c=n||0!==c?c:0,l&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;s.push(c)}else a(t,h,n)||s.push(c)}return s};var lt=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e};var it=function(e){return null!=e&&"object"==typeof e},st=S,ut=it;var ct=function(e){return ut(e)&&"[object Arguments]"==st(e)},ht=it,dt=Object.prototype,pt=dt.hasOwnProperty,ft=dt.propertyIsEnumerable,vt=ct(function(){return arguments}())?ct:function(e){return ht(e)&&pt.call(e,"callee")&&!ft.call(e,"callee")},yt=Array.isArray,_t=vt,gt=yt,bt=_?_.isConcatSpreadable:void 0;var mt=lt,xt=function(e){return gt(e)||_t(e)||!!(bt&&e&&e[bt])};var Pt=function e(t,r,n,o,a){var l=-1,i=t.length;for(n||(n=xt),a||(a=[]);++l<i;){var s=t[l];r>0&&n(s)?r>1?e(s,r-1,n,o,a):mt(a,s):o||(a[a.length]=s)}return a};var wt=function(e){return e};var kt=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},Ot=Math.max;var Tt=function(e,t,r){return t=Ot(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=Ot(n.length-t,0),l=Array(a);++o<a;)l[o]=n[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=n[o];return i[t]=r(l),kt(e,this,i)}};var $t=function(e){return function(){return e}},St=J,jt=function(){try{var e=St(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ct=$t,Et=jt,Vt=Et?function(e,t){return Et(e,"toString",{configurable:!0,enumerable:!1,value:Ct(t),writable:!0})}:wt,At=Date.now;var zt=function(e){var t=0,r=0;return function(){var n=At(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Vt),Bt=wt,Nt=Tt,It=zt;var Dt=A,Kt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Rt=function(e){return null!=e&&Kt(e.length)&&!Dt(e)},Ft=it;var Lt=at,Mt=Pt,Ut=function(e){return Ft(e)&&Rt(e)},Ht=function(e,t){return It(Nt(e,t,Bt),e+"")}((function(e,t){return Ut(e)?Lt(e,Mt(t,1,Ut,!0)):[]}));function Xt(e,t,r,n){var o,a;if((null==n?void 0:n.getNode)&&t)return null==(o=n.getNode(t))?void 0:o.data;for(const l of e){if(l[r.value]===t)return l;if(null==(a=l[r.children])?void 0:a.length){const e=Xt(l[r.children],t,r);if(e)return e}}}const Gt={value:"value",label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf"};function Wt(e,t,r,n,o=[]){var a;for(const l of n)(null==(a=l[r])?void 0:a.length)&&!l[t]&&(o.push(l[e]),o.push(...Wt(e,t,r,l[r],[])));return o}var qt=l.extend({name:"er-tree-select",components:{Tree:i,Select:s,Option:u},model:{prop:"value",event:"change"},props:{disabled:{default:!1,type:Boolean},multiple:{default:!1,type:Boolean},remote:{default:!1,type:Boolean},filterable:{default:!1,type:Boolean},checkStrictly:{default:!1,type:Boolean},reserveKeyword:{default:!1,type:Boolean},popperAppendToBody:{default:!0,type:Boolean},isCheckOnLeaf:{default:!1,type:Boolean},keyword:{default:"",type:String},lazy:{default:!1,type:Boolean},load:{default:()=>()=>!0,type:Function},loading:{default:!1,type:Boolean},expandAll:{default:!1,type:Boolean},placeholder:{default:"请选择",type:String},treeData:{default:()=>[],type:Array},treeProps:{default:()=>Gt,type:Object},defaultExpandedKeys:{default:()=>[],type:Array},value:{default:null,type:[String,Number,Array]}},data:()=>({}),computed:{locTreeProps(){return a(a({},Gt),this.treeProps)},locDefaultExpandedKeys(){return this.expandAll?Wt(this.treeProps.value,this.treeProps.isLeaf,this.treeProps.children,this.treeData,[]):this.defaultExpandedKeys},valueOptions(){var e;return this.multiple?(null==(e=this.value)?void 0:e.length)?this.value.map((e=>Xt(this.treeData,e,this.locTreeProps,this.$refs.tree))):[{}]:[Xt(this.treeData,this.value,this.locTreeProps,this.$refs.tree)]}},created(){this.$watch((()=>[this.value,this.treeData]),(async([e])=>{![null,void 0].includes(e)&&this.$refs.tree&&this.setSelected(e)}),{immediate:!0})},async mounted(){await this.$nextTick(),this.$refs.tree&&this.setSelected(this.value)},methods:{onNodeClick(e,t,r){const n=e[this.locTreeProps.children],o=e[this.locTreeProps.value],a=e[this.locTreeProps.isLeaf];e[this.locTreeProps.label];const l=this.getPropValue(e,"disabled");if(((null==n?void 0:n.length)||this.lazy&&!a)&&this.isCheckOnLeaf||l||this.multiple)return r.handleExpandIconClick();o!==this.value&&this.$emit("change",o),this.$refs.select.blur()},onTreeCheck(e,t){let r=[];if(this.checkStrictly)r=t.checkedKeys;else{let e=[];for(let r of t.checkedNodes){const t=this.getPropValue(r,"children");(null==t?void 0:t.length)&&e.push(...t.map((e=>this.getPropValue(e,"value"))))}e=Array.from(new Set(e)),r=Ht(t.checkedKeys,e)}this.$emit("change",r),this.$emit("check",e,t)},onNodeExpand(...e){this.$emit("node-expand",...e)},onInput(e){this.filterable&&this.$refs.tree.filter(e),this.$emit("input",e)},onClear(){const e=this.multiple?[]:"";this.$emit("change",e),this.$emit("clear")},onRemoveTag(e){const t=this.value.findIndex((t=>t===e));t>=0&&(this.value.splice(t,1),this.value=this.value)},onVisibleChange(e){this.$emit("visible-change",e)},filterNode(e,t){var r;return!e||-1!==(null==(r=this.getPropValue(t,"label"))?void 0:r.indexOf(e))},setSelected(e){e&&(this.multiple?this.$refs.tree.setCheckedKeys(e):this.$refs.tree.setCurrentKey(e))},treeItemClass(e){const t=this.getPropValue(e,"disabled");return{"is-selected":e[this.locTreeProps.value]===this.value,"is-disabled":t,"item-text":!0}},highlight(e){return this.keyword&&e?e.replace(new RegExp(`(${this.keyword})`,"giu"),"<span class='highlight'>$1</span>"):e},getPropValue(e={},t){return"function"==typeof this.locTreeProps[t]?this.locTreeProps[t](e):e[this.locTreeProps[t]]}}});const Jt={};var Qt=c(qt,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Select",{ref:"select",attrs:{value:e.value,"popper-class":"er-tree-select",clearable:"",filterable:"",remote:e.remote,multiple:e.multiple,placeholder:e.placeholder,"remote-method":e.onInput,loading:e.loading,disabled:e.disabled,popperAppendToBody:e.popperAppendToBody,"reserve-keyword":e.reserveKeyword},on:{clear:e.onClear,"remove-tag":e.onRemoveTag,"visible-change":e.onVisibleChange}},[e._l(e.valueOptions,(function(t){return r("Option",{key:e.getPropValue(t,"value"),attrs:{value:e.getPropValue(t,"value"),label:e.getPropValue(t,"label")}})})),r("Tree",{ref:"tree",attrs:{"empty-text":"无数据",data:e.treeData,props:e.locTreeProps,"node-key":e.locTreeProps.value,"highlight-current":!0,lazy:e.lazy,load:e.load,checkStrictly:e.checkStrictly,"current-node-key":!e.multiple&&e.value&&e.value.length>0?e.value:"","expand-on-click-node":!1,"default-expanded-keys":e.locDefaultExpandedKeys,"show-checkbox":e.multiple,"filter-node-method":e.filterNode},on:{"node-click":e.onNodeClick,check:e.onTreeCheck,"node-expand":e.onNodeExpand},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return[r("div",{class:e.treeItemClass(n),domProps:{innerHTML:e._s(e.highlight(e.getPropValue(n,"label")))}})]}}])})],2)}),[],!1,(function(e){for(let t in Jt)this[t]=Jt[t]}),null,null,null).exports;Qt.install=function(e){e.component(Qt.name,Tree)};const Yt={};var Zt=c({components:{HelloWorld:d,TreeSelect:Qt},data:()=>({value:[1,3],keyword:"",treeData:[{id:1,name:"text1",authority:!0,child:[{id:5,name:"text5"},{id:6,name:"text6",child:[{id:7,name:"text7"},{id:8,name:"text8"},{id:9,name:"text9"},{id:10,name:"text10"}]}]},{id:2,name:"text2",authority:!1},{id:3,name:"text3",authority:!0},{id:4,name:"text4"}],disabledValues:[3]}),methods:{onInput(e){this.keyword=e},onVisibleChange(e){e||(this.keyword="")}}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("TreeSelect",{staticStyle:{width:"70%"},attrs:{placeholder:"请选择内容",clearable:"",filterable:!1,multiple:!0,remote:!0,keyword:e.keyword,"tree-props":{value:"id",children:"child",label:"name",disabled:function(e,t){return!1===e.authority}},"tree-data":e.treeData,"disabled-values":e.disabledValues,"is-check-on-leaf":!1},on:{input:e.onInput,"visible-change":e.onVisibleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,(function(e){for(let t in Yt)this[t]=Yt[t]}),null,null,null).exports;new l({render:e=>e(Zt)}).$mount("#app");
